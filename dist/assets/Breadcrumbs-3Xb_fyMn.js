import{r as s,j as r}from"./index-b9OYvAdP.js";import{F as w,a2 as $,e as D}from"./index-9bYYq6UN.js";function S({onBreadcrumbClick:y,breadcrumbs:c,setBreadcrumbs:j,className:B}){const b=s.useId(),d=s.useRef(null),[a,C]=s.useState([]),[u,E]=s.useState([]),[m,f]=s.useState(!1),p=s.useRef(null),x=s.useRef(null),v=t=>{const e=c.slice(0,t+1);j(e);const n=e[t];n&&y(n.id),f(!1),console.log("Updated BreadCrumb",e)},l=c.filter(t=>t.name),k=t=>{t.stopPropagation(),f(e=>!e)};return s.useEffect(()=>{const t=e=>{m&&p.current&&!p.current.contains(e.target)&&!x.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[m]),s.useEffect(()=>{const t=()=>{if(!d.current)return;const e=d.current.offsetWidth-100;let n=0,i=0;const N=30,o=document.createElement("div");o.style.visibility="hidden",o.style.position="absolute",document.body.appendChild(o);for(let h=l.length-1;h>=0;h--){const R=l[h];o.textContent=R.name;const g=o.offsetWidth+40;if(n+g+(i>0?N:0)>e)break;n+=g,i++}document.body.removeChild(o),C(l.slice(-i)),E(l.slice(0,-i))};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[c]),r.jsx("nav",{ref:d,className:`mb-2 py-3 text-neutral-700 px-3 shadow rounded-lg bg-white relative ${B}`,"aria-label":"Breadcrumb",children:r.jsxs("ol",{className:"flex items-center text-lg space-x-1 md:space-x-2 rtl:space-x-reverse",children:[u.length>0&&r.jsxs("li",{className:"flex items-center relative",children:[r.jsx("button",{ref:x,onClick:k,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:r.jsx(w,{icon:$})}),r.jsx("div",{ref:p,className:`absolute mt-2 flex flex-col  font-semibold text-neutral-600 top-full left-0 w-fit  max-w-[250px] p-3 px-4 text-base bg-neutral-100 border border-neutral-300 divide-y divide-gray-100 rounded-lg z-[999999] transition-all duration-300 ease-in-out transform ${m?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:u.map((t,e)=>r.jsx("a",{href:"#",className:"block px-4 py-2 truncate text-sm text-neutral-700 hover:bg-neutral-200 cursor-pointer  border border-neutral-100 hover:border-neutral-300 rounded-lg active:scale-95 transition-all",onClick:n=>{n.preventDefault(),v(e)},children:t.name},`hidden-${b}-${e}`))})]}),a.map((t,e)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx("a",{href:"#",className:`text-[16px] px-2 py-[1px] ${e===a.length-1?"font-semibold truncate line-clamp-1 text-gray-700":"text-gray-600 hover:bg-neutral-100 hover:border-neutral-200 rounded-lg transition-all"} ${e<a.length-1?"truncate":""}`,onClick:n=>{n.preventDefault(),v(u.length+e)},children:t.name}),e<a.length-1&&r.jsx(w,{icon:D,className:"px-1 text-xs text-gray-500"})]},`${b}-${e}`))]})})}export{S as B};
